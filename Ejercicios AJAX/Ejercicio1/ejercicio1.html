<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Datos JSON obtenidos a partir de PHP</title>
</head>

<body>
    <h1>Datos para enviar a PHP</h1>

    <input type="text" id="nombre" placeholder="Nombre" accept="text/plain"><br><br>
    <input type="text" id="apellido" placeholder="Apellido" accept="text/plain"><br><br>
    <input type="number" id="edad" placeholder="Edad" accept="text/plain">

    <div class="enviar">
        <h3>Enviar</h3>
    </div>
    <hr>
    <div class="respuesta"></div>

    <script>
        //         A partir del archivo “datos.php” proporcionado y el archivo “index - 0.html”, desarrolla el código en cabecera y en javascript vanilla que permita:
        // Controlar la carga del documento html por medio del oyente de evento “DOMContentLoaded”.
        // Definir las variables que referencien cada uno de los objetos del archivo html.
        // Definir el oyente de evento necesario para que al hacer click sobre el div “enviar” se inicie el proceso necesario para transmitir los datos del usuario al servidor php y recoger la respuesta del servidor en el formato adecuado y presentarla en el componente identificado como “respuesta”.


        document.addEventListener("DOMContentLoaded", function () {
            let nombre = document.getElementById("nombre");
            let apellido = document.getElementById("apellido");
            let edad = document.getElementById("edad");
            let enviar = document.querySelector(".enviar");
            let respuesta = document.querySelector(".respuesta");


            enviar.addEventListener("click", function () {


                let datos = {
                    nombre: nombre.value,
                    apellido: apellido.value,
                    edad: edad.value
                }


                let xhr = new XMLHttpRequest();

                const params = `nombre=${datos.nombre}&apellido=${datos.apellido}&edad=${datos.edad}`;
                xhr.open("POST", "datos.php", true);
                xhr.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
                xhr.onreadystatechange = function () {
                    if (xhr.readyState == 4 && xhr.status == 200) {
                        respuesta.innerHTML = xhr.responseText;
                    }
                }

                xhr.send(params);

            })

        })


    </script>
</body>

</html>